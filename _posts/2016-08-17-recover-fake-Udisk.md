---
title: 无法识别主控的情况下如何“软修复”一个扩容U盘
categories:
  - Notes
tags:
  - U-disk
  - storage
date: 2016-08-17 11:12:21
permalink: recover-fake-Udisk
---

<h2 id="intro">前言</h2>家中找到了一个假的金士顿扩容盘，表面容量是32G，实际只有8G，最关键的是存储资料常常丢失。原本恢复很简单，量产即可，但该盘主控不可识别，比较麻烦。


<!-- more -->

### 如何知道是扩容盘？

- 使用**MyDiskTestV2.98**，这里注意MyDiskTest号称自带软修复，但在WIN7以上系统中无法使用，我特意换了XP系统进行了测试，答案是也不能用。

- 什么是软修复？

> 对于扩容的那一部分，使用数据文件填充，然后只读隐藏，你的U盘就变成了32G容量，8G可用。因为这8G并不包括扩容的那一部分，所以可以正常存取，文件不会损坏。

-----

### 最常规的思路

- 针对扩容盘，最常规的思路就是识别主控型号，查找相应的量产工具，然后重新进行量产，这里识别主控型号用到的工具主要有两个：

1. ChipGenius
1. ChipEasy

- 二者效果差不多，主要注意版本不要太旧，否则无法识别新的主控型号。识别的结果如下：

```
设备制造商:  General
设备型号  :  UDisk
当前协议  :  USB2.0
输入电流  :  100mA
分区系统  :  FAT32                    是否激活  :  是
是否对齐  :  32 KB 已扇区对齐
芯片制造商:  芯邦(Chipsbank)
芯片型号  :  CBMeneral
```

- WTF？芯片型号被谁吃了？**试过最新版本的多种识别软件均无果**。不过幸好我们知道了是芯邦的芯片，具体主控型号位置。果断拆机，拆机后如图：

![U盘拆解图](http://o7myibfc7.bkt.clouddn.com/2140772-b83693a38bed10f2.jpg)

- 在芯片背面看到了YHFL92098E-8GB1410，很显然这是8GB的芯邦2098E主控，寻找量产工具，但是尝试了如下工具无果，**无法识别U盘**。

1. APToolV5533
1. CBM2098_APToolV6006
1. UMPTool_V7000
1. UmpTool6003

-----

### diskgenius分区解决
- 在使用MyDiskTest的时候，发现32G空间的前8G是可用的空间，扩容的是之后的空间，既然软件没有提供软修复，那么干脆分区好了，因为分区是从0开始按照扇区号开始的。

- 使用DiskGenius进行分区，随便分出了7.6G的空间（8G=8000M），剩下的分区进行隐藏。

> 这样就完成了一个扩容U盘的软修复，当然在能够量产的前提下还是进行量产吧。

-----

### 所用的软件集合（百度云外链）

> pass

-----

### 参考网站

1. **优盘之家**: <http://www.upan.cc/> 
1. **U盘量产网**: <http://www.upantool.com/>

-----
